<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <!-- Required meta tags -->
        <meta name="viewport" content="width=device-width, user-scalable=no">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
              integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
              crossorigin="anonymous">

        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
                integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
                crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
                integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
                crossorigin="anonymous"></script>
        <title>ReservationService</title>
        <!--css-->
        <style>
            .wrap {
                width: 700px;
                margin: 15px auto 15px auto;
                text-align: center;
                padding: 10px;

            }

            .headline {
                width: 500px;
                margin: 10px auto;
                background-color: darkblue;
                color: white;
                padding: 10px;
                border-radius: 10px;
                text-align: center;
            }

            .Boxplot {
                width: 200px;
                height: 50px;
                text-align: center;
            }

            .input-box {
                height: 50px;
                text-align: center;
            }

            .order-box {
                margin-bottom: 10px;
            }

            .Box_Words {
                text-align: center;
            }

            .timeBox {
                font-size: 20px;
                font-family: Consolas, sans -serif;
            }

            .notice {
                text-align: center;
                color: blue;
                font-size: 15px;
            }
        </style>
        <!--js-->

        <script>


            function Reservation() {
                let name = $("#studentName").val();
                let grade = $("#studentGrade").val();
                let address = $("#studentAddress").val();
                let tel = $("#tlno").val();
                let subject = $("#subjectSelect").val();
                let date = $("#dateBox").val();
                let time = $("#timeBox").val();
                let specialNote = $("#specialNote").val();


                if (name == "" || grade == "" || address == "" || tel == "" || subject == "" || time == "" || specialNote == "") {
                    alert('입력하지 않은 부분이 없는지 확인해 주세요! 정보가 부족합니다.');
                } else {
                    $.ajax({
                        type: "POST",
                        url: "/api/push",
                        data: {
                            'name_give': name,
                            'grade_give': grade,
                            'address_give': address,
                            'tel_give': tel,
                            'subject_give': subject,
                            'date_give': date,
                            'time_give': time,
                            'specialNote_give': specialNote
                        },
                        success: function (response) {
                            if (response.result == 'success') {
                                console.log(name, address, tel, subject, time, specialNote);

                                window.location.reload();
                            }
                        }
                    })

                }
            }


        </script>

    </head>
    <body>

        <div class="wrap">
            <h1 class="headline">상담 예약 프로그램</h1>

            <div class="info">
                <p>클릭하여 원하는 날짜와 시간을 선택하여 상담 일정을 잡아주세요!</p>
            </div>

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <label class="input-group-text Boxplot">이름*</label>
                </div>

                <input type="text" class="form-control input-box" id="studentName" aria-label="Default"
                       aria-describedby="inputGroup-sizing-default" placeholder="이름을 입력해 주세요.">
            </div>

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <label class="input-group-text Boxplot">학년*</label>
                </div>
                <select class="custom-select input-box" id="studentGrade">
                    <option selected class="Box_Words" >자녀의 학년을 선택하세요.</option>
                    <option value="초1">초1</option>
                    <option value="초2">초2</option>
                    <option value="초3">초3</option>
                    <option value="초4">초4</option>
                    <option value="초5">초5</option>
                    <option value="초6">초6</option>
                    <option value="중1">중1</option>
                    <option value="중2">중2</option>
                    <option value="중3">중3</option>
                    <option value="고1">고1</option>
                    <option value="고2">고2</option>
                    <option value="고3">고3</option>
                </select>
            </div>


            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <label class="input-group-text Boxplot">주소*</label>
                </div>
                <input type="text" class="form-control input-box" id="studentAddress" aria-label="Default"
                       aria-describedby="inputGroup-sizing-default">
            </div>

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <label class="input-group-text Boxplot">휴대폰 번호*</label>
                </div>

                <input type="tel" class="form-control input-box" id="tlno" name="tlno" aria-label="Default"
                       title="전화번호를 입력하세요."
                       placeholder="010-0000-0000"
                       aria-describedby="inputGroup-sizing-default" pattern="[0-9]{2,3}-[0-9]{3,4}-[0-9]{3,4}"
                       maxlength="13">
            </div>


            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <label class="input-group-text Boxplot">과목*</label>
                </div>
                <select class="custom-select input-box" id="subjectSelect">
                    <option selected class="Box_Words">상담과목을 선택해 주세요.</option>
                    <option value="수학">수학</option>
                    <option value="국어">국어</option>
                    <option value="과학">과학</option>
                    <option value="영어">영어</option>
                    <option value="전과목">전과목</option>
                    <option value="특강">특강</option>
                    <option value="기타">기타</option>
                </select>
            </div>

            <div class="input-group mb-3">

                <div class="input-group-prepend">
                    <label class="input-group-text Boxplot">예약된 날짜 / 시간*</label>
                </div>
                <input type="date" class="form-control timeMargin input-box" id="dateBox" name="trip-start"
                       min="2020-08-10" max="2020-12-31">

                <input type="time" class="form-control timeMargin input-box" id="timeBox" value="08:30:00" step="600" > // 시간영역 알아보기
                
            </div>

            <div class="input-group mb-3">
                <div class="input-group-prepend Boxplot">
                    <span class="input-group-text">특이사항</span>
                </div>
                <textarea id="specialNote" class="form-control" cols="30" rows="5"
                          placeholder="140자까지 입력할 수 있습니다."></textarea>
            </div>

            <div><p class="notice">*내용들은 필수 입력 항목입니다.</p></div>


            <div class="order">
                <button onclick="Reservation()" type="button" class="btn btn-primary order-box">예약하기</button>
                <button onclick="document.location.href='tel:010-9804-5625'" type="button"
                        class="btn btn-primary order-box">
                    전화하기
                </button>
            </div>

            <div class="orders">
                <table class="table">
                    <thead>
                    <tr>
                        <th scope="col">날짜 / 시간</th>
                        <th scope="col">학교</th>
                        <th scope="col">학년</th>
                        <th scope="col">과목</th>
                    </tr>
                    </thead>
                    <tbody id="orders-box">
                    </tbody>
                </table>
            </div>
        </div>


    </body>
</html>